<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Registration of materials</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <link rel="stylesheet" href="../CSS/Registeration.css">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="logo"><img src="../images/menoufia-universitylogo.jpg" alt=""></div>
        <ul class="nav-links">
            <li><a href="../pages/MainPageStudent.html#Main">Home</a></li>
            <li><a href="../pages/MainPageStudent.html#about">About Us</a></li>
            <li><a href="../pages/MainPageStudent.html#contact">Contact Us</a></li>
            <li><a id="profile" href="../pages/ProfilePageStudent.html"><i class="fa-regular fa-user"></i></a></li>
        </ul>
    </nav>
    <div class="tabs">
        <button class="tab active" onclick="showTerm(1, this)">First term</button>
        <button class="tab" onclick="showTerm(2, this)">Second term</button>
    </div>
    <div id="table-container"></div>
    <script>
        const courses = {
    1: [
        {
            name:"Distributed database",
            code: "IS532A",
            hours: 3,
            lecturer: "Asmaa Haroun",
            seats: 40,
            registered: false
        },
    ],
    2: [
        {
            name: "Big Data",
            code: "IS651",
            hours: 3,
            lecturer: "Nesmaa",
            seats: 30,
            registered: true
        },
    ],
    
};

function getTermCourses(term) {
    if (term === 1) {
        return [...courses[1], ...courses[2]];
    } else {
        return [...courses[3], ...courses[4]];
    }
}

function renderTableForTerm(term) {
    const tableContainer = document.getElementById('table-container');
    const data = getTermCourses(term);
    if (!data || data.length === 0) {
        tableContainer.innerHTML = "<p style='text-align:center;margin:30px;color:#888'>No Courses</p>";
        return;
    }
    let html = `<table>
        <thead>
            <tr>
                <th>#</th>
                <th>Course name</th>
                <th>Course code</th>
                <th>Course hours</th>
                <th>Doctor</th>
                <th>Available places</th>
                <th>Registration</th>
            </tr>
        </thead>
        <tbody>`;
    data.forEach((course, idx) => {
        html += `<tr>
            <td>${idx + 1}</td>
            <td>${course.name}</td>
            <td>${course.code}</td>
            <td>${course.hours}</td>
            <td>${course.lecturer}</td>
            <td>${course.seats}</td>
            <td>
                <button class="action-btn ${course.registered ? 'remove' : 'add'}" onclick="toggleRegisterTerm(${term}, ${idx}, this)">
                    ${course.registered ? '✖' : '+'}
                </button>
            </td>
        </tr>`;
    });
    html += `</tbody></table>`;
    tableContainer.innerHTML = html;
}

function showTerm(term, btn) {
    document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
    btn.classList.add('active');
    renderTableForTerm(term);
}

function toggleRegisterTerm(term, idx, btn) {
    const data = getTermCourses(term);
    const course = data[idx];
    course.registered = !course.registered;
    btn.innerHTML = course.registered ? '✖' : '+';
    btn.className = 'action-btn ' + (course.registered ? 'remove' : 'add');
}

window.onload = function() {
    renderTableForTerm(1);
};
    </script>
</body>
</html>